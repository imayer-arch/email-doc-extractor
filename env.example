# ===========================================
# Email Document Extractor - Environment Variables
# ===========================================
# Rename this file to .env and fill in your values

# PostgreSQL Database
DATABASE_URL="postgresql://user:password@localhost:5432/email_extractor?schema=public"

# AWS Credentials (for Textract & S3)
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
AWS_REGION="us-east-2"
AWS_S3_BUCKET="your-bucket-name"

# Gmail OAuth2 Credentials
# Get these from Google Cloud Console: https://console.cloud.google.com/
GMAIL_CLIENT_ID="your-gmail-client-id.apps.googleusercontent.com"
GMAIL_CLIENT_SECRET="your-gmail-client-secret"
GMAIL_REDIRECT_URI="http://localhost:3000/oauth/callback"
GMAIL_REFRESH_TOKEN="your-gmail-refresh-token"

# Email to monitor (the inbox to check for documents)
GMAIL_USER_EMAIL="your-email@gmail.com"

# ===========================================
# Email Notification Settings
# ===========================================
# Provider: "ses" (AWS SES, recommended) or "smtp" (legacy Gmail)
EMAIL_PROVIDER="ses"

# Email addresses
EMAIL_FROM="your-email@example.com"
NOTIFICATION_EMAIL="where-to-send-notifications@example.com"

# AWS SES Settings (uses AWS credentials above)
# Region for SES (defaults to AWS_REGION if not set)
AWS_SES_REGION="us-east-2"

# SMTP Settings (only needed if EMAIL_PROVIDER="smtp")
# Requires Gmail App Password - see README for setup
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USER="your-email@gmail.com"
SMTP_PASS="your-app-password"

# Agent Settings
POLLING_INTERVAL_MS=60000

# Google AI API Key (for Gemini model in ADK)
# Get from: https://aistudio.google.com/app/apikey
# ADK looks for GOOGLE_GENAI_API_KEY or GEMINI_API_KEY
GOOGLE_GENAI_API_KEY="your-google-ai-api-key"

# ===========================================
# Multi-user Settings
# ===========================================
# Allowed email domains (comma-separated)
ALLOWED_DOMAINS="mobeats.io"

# Encryption key for storing OAuth tokens (exactly 32 characters)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64').slice(0,32))"
ENCRYPTION_KEY="your-32-character-encryption-key"

# ===========================================
# Gmail Push Notifications (Pub/Sub)
# ===========================================
# Google Cloud Project ID (same as Gmail OAuth project)
GOOGLE_CLOUD_PROJECT_ID="your-google-cloud-project-id"

# Pub/Sub Topic Name (create in Google Cloud Console)
PUBSUB_TOPIC_NAME="gmail-notifications"

# Backend URL (for webhook endpoint)
BACKEND_URL="http://localhost:3000"
